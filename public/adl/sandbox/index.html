<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<link rel="stylesheet" href="css/colorpicker.css" type="text/css" />
    <link rel="stylesheet" media="screen" type="text/css" href="css/layout.css" />
    <title>Virtual World Framework</title>
	<script type="text/javascript" src="jquery-1.7.1.js"></script>
    <script type="text/javascript" src="jquery-ui-1.8.16.custom.js"></script>
	<style>
	.coldstate
	{
	
		cursor: pointer;
		background: #f6f8f9; /* Old browsers */
		background: -moz-linear-gradient(top,  #f6f8f9 0%, #e5ebee 50%, #d7dee3 56%, #f5f7f9 100%); /* FF3.6+ */
		background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#f6f8f9), color-stop(50%,#e5ebee), color-stop(56%,#d7dee3), color-stop(100%,#f5f7f9)); /* Chrome,Safari4+ */
		background: -webkit-linear-gradient(top,  #f6f8f9 0%,#e5ebee 50%,#d7dee3 56%,#f5f7f9 100%); /* Chrome10+,Safari5.1+ */
		background: -o-linear-gradient(top,  #f6f8f9 0%,#e5ebee 50%,#d7dee3 56%,#f5f7f9 100%); /* Opera 11.10+ */
		background: -ms-linear-gradient(top,  #f6f8f9 0%,#e5ebee 50%,#d7dee3 56%,#f5f7f9 100%); /* IE10+ */
		background: linear-gradient(to bottom,  #f6f8f9 0%,#e5ebee 50%,#d7dee3 56%,#f5f7f9 100%); /* W3C */
		filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#f6f8f9', endColorstr='#f5f7f9',GradientType=0 ); /* IE6-9 */

		border-radius: 10px;
		margin: 10px;
		padding: 10px;
		text-align: center;
		font-size: 1.8em;
		box-shadow: 5px 5px 10px;
		width: 200px;
		height: 200px;
		display: inline-block;
		vertical-align: middle;
		line-height: 200px;
		overflow: hidden;
	}
	.hotstate
	{

		cursor: pointer;
		background: rgb(184,225,252); /* Old browsers */
		background: -moz-linear-gradient(top,  rgba(184,225,252,1) 0%, rgba(144,191,240,1) 47%, rgba(107,168,229,1) 53%, rgba(191,215,255,1) 100%); /* FF3.6+ */
		background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,rgba(184,225,252,1)), color-stop(47%,rgba(144,191,240,1)), color-stop(53%,rgba(107,168,229,1)), color-stop(100%,rgba(191,215,255,1))); /* Chrome,Safari4+ */
		background: -webkit-linear-gradient(top,  rgba(184,225,252,1) 0%,rgba(144,191,240,1) 47%,rgba(107,168,229,1) 53%,rgba(191,215,255,1) 100%); /* Chrome10+,Safari5.1+ */
		background: -o-linear-gradient(top,  rgba(184,225,252,1) 0%,rgba(144,191,240,1) 47%,rgba(107,168,229,1) 53%,rgba(191,215,255,1) 100%); /* Opera 11.10+ */
		background: -ms-linear-gradient(top,  rgba(184,225,252,1) 0%,rgba(144,191,240,1) 47%,rgba(107,168,229,1) 53%,rgba(191,215,255,1) 100%); /* IE10+ */
		background: linear-gradient(to bottom,  rgba(184,225,252,1) 0%,rgba(144,191,240,1) 47%,rgba(107,168,229,1) 53%,rgba(191,215,255,1) 100%); /* W3C */
		filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#b8e1fc', endColorstr='#bfd7ff',GradientType=0 ); /* IE6-9 */

		border-radius: 10px;
		margin: 10px;
		padding: 10px;
		text-align: center;
		font-size: 1.8em;
		box-shadow: 5px 5px 10px;
		width: 200px;
		height: 200px;
		display: inline-block;
		vertical-align: middle;
		line-height: 200px;
		overflow: hidden;
	}
	.button
	{

		cursor: pointer;
		background: gray;
		border-radius: 10px;
		margin: 10px;
		padding: 10px;
		text-align: center;
		font-size: 1.8em;
		box-shadow: 5px 5px 5px;
		display:inline-block;
		width: 25%;
	}
	.hotstate:hover
	{
		border: 1px solid lightblue;
		width: 198px;
		height: 198px;
	}
	
	.coldstate:hover
	{
		border: 1px solid lightblue;
		width: 198px;
		height: 198px;
	}
	.input
	{
		font-size: 1.6em;
		padding: 5px;
		border-radius: 10px;
		width: 65%;
	
	}
	</style>

    <script type="text/javascript">
	
		$(document).ready(function()
		{
			
			$.getJSON("./admin/instances",function(e)
			{
				var keys = Object.keys(e);
				for(var i = 0; i < keys.length; i++)
				{
					var id = keys[i].substr(13,16);
					$('#activeInstances').append('<div class="hotstate" id="'+id+'" >' + id + '</div>');
					$('#'+id).click(function(){
						var str = window.location.pathname;
							str = str.substr(0,str.lastIndexOf('/')+1)
							window.location.pathname = str + $(this).attr('id') + '/';
					});
				}
				
			
			});
			
			$.getJSON("./vwfDataManager.svc/states",function(e)
			{
				
				e = JSON.parse(e.GetStatesResult);
				
				for(var i = 0; i < e.length; i++)
				{
					var id = e[i].substr(13,16);
					if($('#'+id).length == 0)
					{
						$('#coldInstances').append('<div class="coldstate" id="'+id+'" >' + id + '</div>');
						$('#'+id).click(function(){
							var str = window.location.pathname;
							str = str.substr(0,str.lastIndexOf('/')+1)
							window.location.pathname = str + $(this).attr('id') + '/';
						});
					}
				}
			});
			//$('#newstatebtn').button({label:'Create World'});
		
		});
	
	</script>
</head>
<body>
    <div class="wrapper">
		<h1> Virtual World Framework Sandbox </h1>
		<div>Welcome to the Virtual World Framework Sandbox application. This landing page lists the worlds that currently exist. Worlds in green are currently active, while worlds in white are in "cold storage". Active worlds are worlds that currently have at least one client viewing them. You can click on any of the world names to launch that world. Or, you can choose "Make a new world" </div>
		
		<div>
		 <input type='text' id='newstate' class='input' placeholder='World Name'/>
		 <div id = 'newstatebtn' class='button'> Create World </div>
		</div>
		<div id="activeInstances" style='width:800px'>
		
		</div>
		<div id="coldInstances" style='width:800px'>
		
		</div>
    </div>
</body>
</html>
