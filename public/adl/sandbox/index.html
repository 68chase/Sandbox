<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<link rel="stylesheet" href="css/colorpicker.css" type="text/css" />
    <link rel="stylesheet" media="screen" type="text/css" href="css/layout.css" />
    <title>Virtual World Framework</title>
	<script type="text/javascript" src="jquery-1.7.1.js"></script>
    <script type="text/javascript" src="jquery-ui-1.8.16.custom.js"></script>
	<style>
	.coldstate
	{
	
		cursor: pointer;
		background: lightblue;
		border-radius: 10px;
		margin: 10px;
		padding: 10px;
		text-align: center;
		font-size: 1.8em;
		box-shadow: 5px 5px 5px;
	
	}
	.hotstate
	{

		cursor: pointer;
		background: lightgreen;
		border-radius: 10px;
		margin: 10px;
		padding: 10px;
		text-align: center;
		font-size: 1.8em;
		box-shadow: 5px 5px 5px;
	
	}
	.button
	{

		cursor: pointer;
		background: gray;
		border-radius: 10px;
		margin: 10px;
		padding: 10px;
		text-align: center;
		font-size: 1.8em;
		box-shadow: 5px 5px 5px;
		display:inline-block;
		width: 25%;
	}
	.hotstate:hover
	{
		border: 2px solid blue;
	}
	
	.coldstate:hover
	{
		border: 2px solid blue;
	}
	.input
	{
		font-size: 1.6em;
		padding: 5px;
		border-radius: 10px;
		width: 65%;
	
	}
	</style>

    <script type="text/javascript">
	
		$(document).ready(function()
		{
			
			$.getJSON("./admin/instances",function(e)
			{
				var keys = Object.keys(e);
				for(var i = 0; i < keys.length; i++)
				{
					var id = keys[i].substr(13,16);
					$('#activeInstances').append('<div class="hotstate" id="'+id+'" >' + id + '</div>');
					$('#'+id).click(function(){
						window.location.pathname += $(this).attr('id') + '/';
					});
				}
				
			
			});
			
			$.getJSON("./vwfDataManager.svc/states",function(e)
			{
				
				e = JSON.parse(e.GetStatesResult);
				
				for(var i = 0; i < e.length; i++)
				{
					var id = e[i].substr(13,16);
					if($('#'+id).length == 0)
					{
						$('#coldInstances').append('<div class="coldstate" id="'+id+'" >' + id + '</div>');
						$('#'+id).click(function(){
							window.location.pathname += $(this).attr('id') + '/';
						});
					}
				}
			});
			//$('#newstatebtn').button({label:'Create World'});
		
		});
	
	</script>
</head>
<body>
    <div class="wrapper">
		<h1> Virtual World Framework Sandbox </h1>
		<div>Welcome to the Virtual World Framework Sandbox application. This landing page lists the worlds that currently exist. Worlds in green are currently active, while worlds in white are in "cold storage". Active worlds are worlds that currently have at least one client viewing them. You can click on any of the world names to launch that world. Or, you can choose "Make a new world" </div>
		
		<div>
		 <input type='text' id='newstate' class='input' placeholder='World Name'/>
		 <div id = 'newstatebtn' class='button'> Create World </div>
		</div>
		<div id="activeInstances">
		
		</div>
		<div id="coldInstances">
		
		</div>
    </div>
</body>
</html>
