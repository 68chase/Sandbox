mixin mapbrowser_head
	block

mixin mapbrowser_body

	#MapBrowser(ng-controller='MapBrowserController')

		.toolbar

			.buttongroup(style='min-width: 175px;')
				.button.back(title='Up one level', ng-click='breadcrumbs.splice(-1, 1)')
					.glyphicon.glyphicon-arrow-left

				.buttongroup.breadcrumbs
					.crumb.first(title='Texture home', ng-click='breadcrumbs = []'
						ng-class='{active: !breadcrumbs.length}')
						.glyphicon.glyphicon-home
					.crumb(ng-repeat='crumb in breadcrumbs track by $index', title='{{crumb}}'
						ng-class='{last: $last, active: $last}', ng-click='breadcrumbs.splice($index+1, breadcrumbs.length)')
						| {{crumb}}

			.buttongroup
				.button.search(title='Search')
					.glyphicon.glyphicon-search

				.crumb.first.tiles(title='Thumbnails', ng-class='{active: view === "thumbs"}', ng-click='view = "thumbs"')
					.glyphicon.glyphicon-th-large
				.crumb.last.list(title='List', ng-class='{active: view === "list"}', ng-click='view = "list"')
					.glyphicon.glyphicon-th-list


		.folderview(ng-class='{thumbs: view === "thumbs", list: view === "list"}')

			.viewitem(ng-repeat='item in followPath(breadcrumbs)')
				.thumb
					.glyphicon.glyphicon-folder-open.fakethumb(ng-show='item.contents')
					img(ng-hide='item.contents', ng-src='./vwfdatamanager.svc/texturethumbnail?UID={{getUID(item.name, breadcrumbs)}}')
				.nameplate {{item.name}}
					span.size(ng-hide='item.contents')  ({{item.width || '?'}}x{{item.height || '?'}})
