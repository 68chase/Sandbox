extends ./paneleditor

block vars
	- var settings = { name: 'materialEditor', controller: 'MaterialController', title: 'Material', icon: 'material' };

block content

	#materialaccordion(vws-accordion='materialDef')

		h3: a(href="#") Material Base
		#MaterialBasicSettings

			label.inline(ng-show='materialArray') Editor material index:
				input(type='number', min=0, max='{{materialArray.length-1}}', step=1, ng-model='activeMaterial')
				|  of {{materialArray.length-1}}

			label.inline Material Type: 
				select(ng-model='materialDef.type', ng-disabled='!materialDef')
					option phong
					option mix
					option video

			label Alpha:
				br
				slider(min=0, max=1, step=0.01, value='materialDef.alpha', disabled='!materialDef')
			label Specular level:
				br
				slider(min=0, max=10, step=0.1, value='materialDef.specularLevel', disabled='!materialDef')
			label Reflectiveness:
				br
				slider(min=0, max=10, step=0.1, value='materialDef.reflect', disabled='!materialDef')
			label Shininess:
				br
				slider(min=0, max=10, step=0.1, value='materialDef.shininess', disabled='!materialDef')

			label.inline Culling:
				select(ng-model='materialDef.side', convert-to-number, ng-disabled='!materialDef')
					option(value=0, label='Back') Back
					option(value=1, label='Front') Front
					option(value=2, label='None') None

			label.inline Diffuse color:
				color-picker(color-obj='materialDef.color', disabled='!materialDef')

			label.inline Ambient color:
				.verticalLayout(style='align-items: flex-end;')
					label Linked
						input(type='checkbox', ng-model='ambientLinked', ng-disabled='!materialDef')
					color-picker(color-obj='materialDef.ambient', disabled='!materialDef', ng-hide='ambientLinked')

			label.inline Emissive color:
				color-picker(color-obj='materialDef.emit', disabled='!materialDef')

			label.inline Specular color:
				color-picker(color-obj='materialDef.specularColor', disabled='!materialDef')

			label.inline Blending:
				select(ng-model='materialDef.blendMode', convert-to-number, ng-disabled='!materialDef')
					option(value=0, label='None') None
					option(value=1, label='Normal') Normal
					option(value=2, label='Additive') Additive
					option(value=3, label='Subtractive') Subtractive

		h3: a(href='#') Material Flags
		#MaterialFlags.horizontalLayout

			div
				label
					input(type='checkbox', ng-model='materialDef.fog', ng-disabled='!materialDef')
					|  Fog Enabled
				label
					input(type='checkbox', ng-model='materialDef.shading', ng-disabled='!materialDef')
					|  Shading Enabled
				label
					input(type='checkbox', ng-model='materialDef.metal', ng-disabled='!materialDef')
					|  Metal
				label
					input(type='checkbox', ng-model='materialDef.wireframe', ng-disabled='!materialDef')
					|  Wireframe
				label
					input(type='checkbox', ng-model='materialDef.depthtest', ng-disabled='!materialDef')
					|  Depth Test
				label
					input(type='checkbox', ng-model='materialDef.depthwrite', ng-disabled='!materialDef')
					|  Depth Write
				label
					input(type='checkbox', ng-model='materialDef.vertexColors', ng-disabled='!materialDef')
					|  Vertex Colors

		h3(ng-repeat-start='layer in materialDef.layers')
			a(href='#') Texture Layer {{$index}}

		.textureLayer(ng-repeat-end)
